(()=>{var e={931(e,t,n){const{createModal:o,closeModal:a}=n(970);e.exports=class{constructor(e){this.key=e.key,this.orderId=e.orderId,this.onSuccess=e.onSuccess,this.onFailure=e.onFailure,function(){if(document.getElementById("pg-styles"))return;const e=document.createElement("style");e.id="pg-styles",e.innerText="\n#payment-gateway-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2147483647; font-family: sans-serif; }\n.pg-overlay { background: rgba(0,0,0,0.6); width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; position: relative; }\n.pg-iframe { width: 400px; height: 600px; background: white; border: none; border-radius: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }\n.pg-close-btn { position: absolute; top: 20px; right: 20px; background: white; border: none; font-size: 24px; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; }\n",document.head.appendChild(e)}()}open(){o(this.orderId),window.addEventListener("message",this.handleMessage.bind(this))}handleMessage(e){e.data&&("payment_success"===e.data.type?(this.onSuccess&&this.onSuccess(e.data.data),this.close()):"payment_failed"===e.data.type?this.onFailure&&this.onFailure(e.data.data):"close_modal"===e.data.type&&this.close())}close(){a(),window.removeEventListener("message",this.handleMessage.bind(this))}}},970(e){function t(){const e=document.getElementById("payment-gateway-modal");e&&e.remove()}e.exports={createModal:function(e){if(document.getElementById("payment-gateway-modal"))return;const n=document.createElement("div");n.id="payment-gateway-modal";const o=`http://localhost:3001/checkout?order_id=${e}`;n.innerHTML=`\n    <div class="pg-overlay">\n      <button class="pg-close-btn">&times;</button>\n      <iframe class="pg-iframe" src="${o}"></iframe>\n    </div>\n  `,document.body.appendChild(n),n.querySelector(".pg-close-btn").onclick=()=>t()},closeModal:t}}},t={},n=function n(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(931);window.PaymentGateway=n})();